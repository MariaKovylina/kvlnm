        name: SonarCloud Analysis

        on:
          push:
            branches:
              - main  # Или название вашей основной ветки
          pull_request:
            types: [opened, synchronize, reopened]

        jobs:
          sonarcloud:
            runs-on: ubuntu-latest
            steps:
              - uses: actions/checkout@v3
                with:
                  fetch-depth: 0  # Shallow clones are not enough for sonarcloud

              - name: Set up Python
                uses: actions/setup-python@v4
                with:
                  python-version: '3.x'  # Или ваша версия Python

              - name: Install dependencies
                run: |
                  python -m pip install --upgrade pip
                  pip install requests  # Или другие зависимости вашего проекта

              - name: SonarCloud Scan
                uses: sonarsource/sonarcloud-github-action@master
                env:
                  GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}  # Needed to get PR information, if any
                  SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}
        
